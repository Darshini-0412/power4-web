<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
    <meta charset="utf-8" />
    <title>‚ö° Power 4 Web ‚ö°</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../static/style.css" />
</head>
<body class="page">
    <!-- S√©lecteur de th√®me -->
    <div class="theme-switcher">
        <button class="theme-btn" aria-label="Changer le th√®me">
            <span class="theme-icon" aria-hidden="true">üåô</span>
            <span class="sr-only">Activer le mode sombre</span>
        </button>
    </div>

    <main class="game-layout">
        <!-- Carte Joueur 1 Redesign -->
        <section class="player-card player-left">
            <!-- Header avec badge de statut -->
            <div class="player-header">
                <div class="player-identity">
                    <div class="player-avatar-container">
                        <div class="player-avatar" style="background-color: {{.Player1.Color}};">
                            <div class="avatar-glow {{if eq .Turn "R"}}active-glow{{end}}"></div>
                        </div>
                        <div class="status-indicator {{if eq .Turn "R"}}player-turn{{else}}player-waiting{{end}}">
                            {{if eq .Turn "R"}}üéÆ{{else}}‚è≥{{end}}
                        </div>
                    </div>
                    <div class="player-meta">
                        <h2 class="player-name">{{.Player1.Name}}</h2>
                        <div class="player-badges">
                            <span class="role-badge">Joueur 1</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section Statistiques Avanc√©es -->
           
             <div class="player-stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-content">
                        <span class="stat-value" id="player1Tokens">0</span>
                        <span class="stat-label">Jetons</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-content">
                        <span class="stat-value" id="player1TimePlayed">‚è≥</span>
                        <span class="stat-label">Temps</span>
                    </div>
                </div>
                
            </div>

            <!-- Timer Circulaire Moderne -->
            <div class="timer-section">
                <div class="circular-timer">
                    <svg class="timer-svg" viewBox="0 0 100 100">
                        <circle class="timer-base" cx="50" cy="50" r="45"></circle>
                        <circle class="timer-progress" cx="50" cy="50" r="45" 
                                id="player1TimerCircle"></circle>
                    </svg>
                    <div class="timer-content">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span class="timer-value" id="player1Timer">‚è≥</span>
                        <span class="timer-unit">sec</span>
                    </div>
                </div>
                <div class="timer-status {{if eq .Turn "R"}}timer-active{{else}}timer-paused{{end}}">
                    {{if eq .Turn "R"}}Tour en cours{{else}}En attente{{end}}
                </div>
            </div>

        </section>

        <!-- Zone de Jeu Centrale Redesign -->
        <section class="game-center">
            


            <!-- S√©lecteur de Colonnes Am√©lior√© -->
            <div class="columns-selector-modern">
              <!-- Header avec Informations de Partie -->
            <header class="game-header-modern">
                <div class="game-title-section">
                    <h1 class="game-title">
                        <span class="title-icon">‚ö°</span>
                        POWER 4 WEB
                        <span class="title-icon">‚ö°</span>
                    </h1>
                </div>
                
                <div class="game-controls-modern">
                    <button class="control-btn tooltip" onclick="showRules()" data-tooltip="R√®gles du jeu">
                        <span class="btn-icon">üìö</span>
                        <span class="btn-text">R√®gles</span>
                    </button>
                    
                    <button class="control-btn tooltip" onclick="resetGame()" data-tooltip="Nouvelle partie">
                        <span class="btn-icon">üîÑ</span>
                        <span class="btn-text">Recommencer</span>
                    </button>
                    
                    <button class="control-btn tooltip" onclick="goToHome()" data-tooltip="Retour accueil">
                        <span class="btn-icon">üè†</span>
                        <span class="btn-text">Accueil</span>
                    </button>
                </div>
            </header>
                
                
                <div class="columns-grid-modern">
                    {{range $i := seq 0 6}}
                    <button class="column-selector-btn" 
                            data-column="{{$i}}"
                            onclick="playMove({{$i}})"
                            aria-label="Jouer colonne {{add $i 1}}">
                        <div class="column-arrow">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 4L12 20M12 20L18 14M12 20L6 14"/>
                            </svg>
                            <span class="column-number">{{add $i 1}}</span>
                        </div>
                        <div class="column-fill-level">
                            <div class="fill-bar" data-column="{{$i}}"></div>
                        </div>
                    </button>
                    {{end}}
                </div>
            </div>

            <!-- Plateau de Jeu Redesign -->
            <div class="board-section-modern">
                <div class="board-container-3d">
                    <!-- Effet de perspective 3D -->
                    <div class="board-perspective">
                        <div class="board-grid-modern">
                            {{range $i := seq 5 0}}
                            <div class="board-row-modern">
                                {{range $index, $cell := index $.Grid $i}}
                                <div class="board-cell-modern" data-row="{{$i}}" data-col="{{$index}}">
                                    <div class="cell-socket">
                                        {{if eq $cell "R"}}
                                        <div class="game-token player1-token" style="background-color: {{$.Player1.Color}}">
                                            <div class="token-reflect"></div>
                                            <div class="token-highlight"></div>
                                        </div>
                                        {{else if eq $cell "Y"}}
                                        <div class="game-token player2-token" style="background-color: {{$.Player2.Color}}">
                                            <div class="token-reflect"></div>
                                            <div class="token-highlight"></div>
                                        </div>
                                        {{else}}
                                        <div class="game-token empty-token">
                                            <div class="token-placeholder"></div>
                                        </div>
                                        {{end}}
                                    </div>
                                </div>
                                {{end}}
                            </div>
                            {{end}}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Carte Joueur 2 Redesign -->
        <section class="player-card player-right">
            <!-- Header avec badge de statut -->
            <div class="player-header">
                <div class="player-identity">
                    <div class="player-avatar-container">
                        <div class="player-avatar" style="background-color: {{.Player2.Color}};">
                            <div class="avatar-glow {{if eq .Turn "Y"}}active-glow{{end}}"></div>
                        </div>
                        <div class="status-indicator {{if eq .Turn "Y"}}player-turn{{else}}player-waiting{{end}}">
                            {{if eq .Turn "Y"}}üéÆ{{else}}‚è≥{{end}}
                        </div>
                    </div>
                    <div class="player-meta">
                        <h2 class="player-name">{{.Player2.Name}}</h2>
                        <div class="player-badges">
                            <span class="role-badge">Joueur 2</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section Statistiques Avanc√©es -->
            
            <div class="player-stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-content">
                        <span class="stat-value" id="player2Tokens">0</span>
                        <span class="stat-label">Jetons</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-content">
                        <span class="stat-value" id="player2TimePlayed">‚è≥</span>
                        <span class="stat-label">Temps</span>
                    </div>
                </div>
                
            </div>
                
                
            

            <!-- Timer Circulaire Moderne -->
            <div class="timer-section">
                <div class="circular-timer">
                    <svg class="timer-svg" viewBox="0 0 100 100">
                        <circle class="timer-base" cx="50" cy="50" r="45"></circle>
                        <circle class="timer-progress" cx="50" cy="50" r="45" 
                                id="player2TimerCircle"></circle>
                    </svg>
                    <div class="timer-content">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span class="timer-value" id="player2Timer">‚è≥</span>
                        <span class="timer-unit">sec</span>
                    </div>
                </div>
                <div class="timer-status {{if eq .Turn "Y"}}timer-active{{else}}timer-paused{{end}}">
                    {{if eq .Turn "Y"}}Tour en cours{{else}}En attente{{end}}
                </div>
            </div>

        </section>
    </main>

    <!-- Modal des r√®gles -->
    <div id="rulesModal" class="modal-overlay">
        <div class="modal-content rules-modal">
            <div class="modal-header">
                <h2 class="modal-title">üìã R√®gles du Power 4</h2>
                <button class="modal-close" onclick="hideRules()" aria-label="Fermer">
                    &times;
                </button>
            </div>
            
            <div class="modal-body">
                <div class="rules-content">
                    <div class="rules-section">
                        <h3>üéØ Objectif du Jeu</h3>
                        <p>√ätre le premier √† aligner 4 jetons de sa couleur horizontalement, verticalement ou en diagonale.</p>
                    </div>

                    <div class="rules-section">
                        <h3>üéÆ Comment Jouer</h3>
                        <ul class="rules-list-modal">
                            <li>‚úÖ <strong>Deux joueurs</strong> s'affrontent √† tour de r√¥le</li>
                            <li>‚úÖ Choisissez une <strong>colonne</strong> pour y d√©poser votre jeton</li>
                            <li>‚úÖ Le jeton tombe jusqu'√† la <strong>case vide la plus basse</strong></li>
                            <li>‚úÖ Les jetons ne peuvent pas flotter - ils tombent toujours vers le bas</li>
                        </ul>
                    </div>

                    <div class="rules-section">
                        <h3>üèÜ Conditions de Victoire</h3>
                        <ul class="rules-list-modal">
                            <li>üéØ <strong>4 jetons align√©s</strong> horizontalement</li>
                            <li>üéØ <strong>4 jetons align√©s</strong> verticalement</li>
                            <li>üéØ <strong>4 jetons align√©s</strong> en diagonale</li>
                        </ul>
                    </div>

                    <div class="rules-section">
                        <h3>‚öñÔ∏è Match Nul</h3>
                        <p>Si la grille est compl√®tement remplie sans qu'aucun joueur n'ait align√© 4 jetons, la partie se termine par un match nul.</p>
                    </div>

                    <div class="rules-section">
                        <h3>‚å®Ô∏è Contr√¥les</h3>
                        <ul class="rules-list-modal">
                            <li>üñ±Ô∏è <strong>Clic</strong> sur les boutons de colonne</li>
                            <li>‚å®Ô∏è <strong>Fl√®ches ‚Üê ‚Üí</strong> pour naviguer entre les colonnes</li>
                            <li>‚å®Ô∏è <strong>Entr√©e/Espace</strong> pour valider la s√©lection</li>
                            <li>‚å®Ô∏è <strong>Touches 1-7</strong> pour jouer directement</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn primary" onclick="hideRules()">
                    üëç Compris !
                </button>
            </div>
        </div>
    </div>

    <!-- Modal des r√©sultats -->
    <div id="resultModal" class="modal-overlay">
        <div class="modal-content result-modal">
            <div class="modal-header">
                <h2 id="modalTitle" class="modal-title">üéâ F√©licitations !</h2>
                <button class="modal-close" onclick="hideGameResult()" aria-label="Fermer">
                    &times;
                </button>
            </div>
            
            <div class="modal-body">
                <div id="modalIcon" class="result-icon"></div>
                <p id="modalMessage" class="modal-message"></p>
                <div class="winner-details" id="winnerDetails"></div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn primary" onclick="resetGame()">
                    üîÑ Nouvelle Partie
                </button>
                <button class="modal-btn secondary" onclick="goToHome()">
                    üè† Retour √† l'Accueil
                </button>
            </div>
        </div>
    </div>

    <!-- Donn√©es cach√©es pour le JavaScript -->
    {{if .Winner}}
    <div class="hidden" id="winner-data">
        {{if eq .Winner "R"}}R{{else if eq .Winner "Y"}}Y{{else}}draw{{end}}
    </div>
    {{end}}

    <script>
        // Configuration du jeu
        const gameConfig = {
            moveTime: localStorage.getItem('moveTime') || 30,
            keyboardControls: true
        };

        let moveTimer = null;
        let timeLeft = gameConfig.moveTime;
        let currentPlayer = '{{.Turn}}';
        let isMakingMove = false;

        // Fonctions pour g√©rer le th√®me
        function initTheme() {
            const theme = localStorage.getItem("theme") || "light";
            document.documentElement.setAttribute("data-theme", theme);
            updateThemeButton(theme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute("data-theme");
            const newTheme = currentTheme === "light" ? "dark" : "light";
            document.documentElement.setAttribute("data-theme", newTheme);
            localStorage.setItem("theme", newTheme);
            updateThemeButton(newTheme);
        }

        function updateThemeButton(theme) {
            const themeBtn = document.querySelector(".theme-btn");
            if (themeBtn) {
                themeBtn.innerHTML = theme === "light" ? 
                    '<span class="theme-icon" aria-hidden="true">üåô</span><span class="sr-only">Activer le mode sombre</span>' : 
                    '<span class="theme-icon" aria-hidden="true">‚òÄÔ∏è</span><span class="sr-only">Activer le mode clair</span>';
            }
        }

        // üéØ GESTION DU TIMER CIRCULAIRE
        function startMoveTimer() {
            clearInterval(moveTimer);
            timeLeft = gameConfig.moveTime;
            updateTimerDisplay();
            
            moveTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(moveTimer);
                    handleTimeOut();
                }
            }, 1000);
        }

        // helper pour formater le temps (si timeLeft est en secondes)
function formatTime(seconds) {
  const m = Math.floor(seconds / 60).toString().padStart(2, '0');
  const s = Math.floor(seconds % 60).toString().padStart(2, '0');
  return `${m}:${s}`;
}

function updateTimerDisplay() {
  const timerIds = currentPlayer === 'R'
    ? ['player1Timer', 'player1TimePlayed']
    : ['player2Timer', 'player2TimePlayed'];

  // R√©cup√®re les √©l√©ments existants uniquement
  const timerElements = timerIds
    .map(id => document.getElementById(id))
    .filter(Boolean); // enl√®ve les null

  const circleElement = document.getElementById(
    currentPlayer === 'R' ? 'player1TimerCircle' : 'player2TimerCircle'
  );

  if (timerElements.length === 0 || !circleElement) return; // rien √† faire

  // Mettre √† jour toutes les zones de texte du timer
  timerElements.forEach(el => {
    // si timeLeft est un nombre en secondes, utiliser formatTime
    el.textContent = typeof timeLeft === 'number' ? formatTime(timeLeft) : timeLeft;
  });

  // Mise √† jour du timer circulaire
  const radius = 45;
  const circumference = 2 * Math.PI * radius;
  const offset = circumference - ((timeLeft / gameConfig.moveTime) * circumference);
  circleElement.style.strokeDashoffset = offset;

  // Couleur selon temps restant
  let color = '';
  if (timeLeft <= 10) color = '#ef4444';
  else if (timeLeft <= 20) color = '#f59e0b';
  else color = '#10b981';

  circleElement.style.stroke = color;

  // Appliquer la couleur aux √©l√©ments de timer (ou reset si pleine dur√©e)
  timerElements.forEach(el => {
    el.style.color = timeLeft > 20 ? '' : color;
  });
}


        function handleTimeOut() {
            console.log('Temps √©coul√© pour ' + currentPlayer);
            // Optionnel: passer automatiquement le tour
        }

        // üéØ JOUER UN COUP AVEC AJAX AM√âLIOR√â
        async function playMove(column) {
            if (isGameFinished() || isMakingMove) return;
            
            isMakingMove = true;
            setLoadingState(true);
            console.log("Jouer dans la colonne:", column);
            
            try {
                const response = await fetch("/api/play", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded",
                    },
                    body: "column=" + column,
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.success) {
                        // Animation avant rechargement
                        await animateMove(column, data.row);
                        window.location.reload();
                    } else {
                        showError(data.message || "Coup invalide");
                    }
                } else {
                    const errorText = await response.text();
                    console.error("Erreur serveur:", errorText);
                    showError("Impossible de jouer: " + errorText);
                }
            } catch (error) {
                console.error("Erreur r√©seau:", error);
                showError("Erreur de connexion");
            } finally {
                isMakingMove = false;
                setLoadingState(false);
            }
        }

        // üéØ ANIMATION DE COUP
        async function animateMove(column, row) {
            return new Promise((resolve) => {
                // Simulation d'animation - √† adapter selon les besoins
                setTimeout(resolve, 300);
            });
        }

        // üéØ √âTAT DE CHARGEMENT
        function setLoadingState(loading) {
            document.querySelectorAll('.column-selector-btn').forEach(btn => {
                btn.disabled = loading;
            });
            
            if (loading) {
                document.body.style.cursor = 'wait';
            } else {
                document.body.style.cursor = 'default';
            }
        }

        // üéØ GESTION DU CLAVIER AM√âLIOR√âE
        function initKeyboardControls() {
            if (!gameConfig.keyboardControls) return;
            
            document.addEventListener('keydown', (e) => {
                if (isGameFinished() || isMakingMove) return;
                
                const columns = document.querySelectorAll('.column-selector-btn');
                let currentFocus = document.querySelector('.column-selector-btn:focus');
                let currentIndex = currentFocus ? Array.from(columns).indexOf(currentFocus) : -1;

                switch(e.key) {
                    case 'ArrowLeft':
                        e.preventDefault();
                        if (currentIndex > 0) {
                            columns[currentIndex - 1].focus();
                        } else {
                            columns[columns.length - 1].focus();
                        }
                        break;
                        
                    case 'ArrowRight':
                        e.preventDefault();
                        if (currentIndex < columns.length - 1) {
                            columns[currentIndex + 1].focus();
                        } else {
                            columns[0].focus();
                        }
                        break;
                        
                    case 'Enter':
                    case ' ':
                        e.preventDefault();
                        if (currentFocus) {
                            const column = currentFocus.getAttribute('data-column');
                            playMove(parseInt(column));
                        }
                        break;
                        
                    case '1': case '2': case '3': case '4': case '5': case '6': case '7':
                        e.preventDefault();
                        const colNum = parseInt(e.key) - 1;
                        if (colNum >= 0 && colNum <= 6) {
                            playMove(colNum);
                        }
                        break;
                }
            });
        }

        // üéØ MISE √Ä JOUR DES STATISTIQUES
        function updatePlayerStats() {
            // Compter les jetons de chaque joueur
            const player1Tokens = document.querySelectorAll('.player1-token').length;
            const player2Tokens = document.querySelectorAll('.player2-token').length;
            
            document.getElementById('player1Tokens').textContent = player1Tokens;
            document.getElementById('player2Tokens').textContent = player2Tokens;

            // Mettre √† jour les niveaux de remplissage des colonnes
            updateColumnFillLevels();
        }

        function updateColumnFillLevels() {
            const columns = [0, 1, 2, 3, 4, 5, 6];
            columns.forEach(col => {
                const filledCells = document.querySelectorAll(`[data-col="${col}"] .game-token:not(.empty-token)`).length;
                const fillPercentage = (filledCells / 6) * 100;
                
                const fillBar = document.querySelector(`.fill-bar[data-column="${col}"]`);
                if (fillBar) {
                    fillBar.style.width = fillPercentage + '%';
                }

                // D√©sactiver les boutons des colonnes pleines via JavaScript
                const columnBtn = document.querySelector(`.column-selector-btn[data-column="${col}"]`);
                if (columnBtn) {
                    if (filledCells >= 6) {
                        columnBtn.classList.add('column-full');
                        columnBtn.disabled = true;
                    } else {
                        columnBtn.classList.remove('column-full');
                        columnBtn.disabled = false;
                    }
                }
            });
        }

        // üéØ MODAL DES R√àGLES
        function showRules() {
            document.getElementById('rulesModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function hideRules() {
            document.getElementById('rulesModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // üéØ MODAL DES R√âSULTATS
        function showGameResult(winner) {
            const modal = document.getElementById("resultModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalTitle = document.getElementById("modalTitle");
            const modalIcon = document.getElementById("modalIcon");
            const winnerDetails = document.getElementById("winnerDetails");

            if (winner === "R") {
                modalTitle.textContent = "üéâ F√©licitations !";
                modalIcon.innerHTML = "üèÜ";
                modalMessage.innerHTML = "Partie termin√©e !";
                winnerDetails.innerHTML = `
                    <div class="winner-player">
                        <div class="winner-avatar" style="background-color: {{.Player1.Color}}"></div>
                        <div class="winner-info">
                            <strong>{{.Player1.Name}}</strong> a gagn√© !
                        </div>
                    </div>
                `;
            } else if (winner === "Y") {
                modalTitle.textContent = "üéâ F√©licitations !";
                modalIcon.innerHTML = "üèÜ";
                modalMessage.innerHTML = "Partie termin√©e !";
                winnerDetails.innerHTML = `
                    <div class="winner-player">
                        <div class="winner-avatar" style="background-color: {{.Player2.Color}}"></div>
                        <div class="winner-info">
                            <strong>{{.Player2.Name}}</strong> a gagn√© !
                        </div>
                    </div>
                `;
            } else {
                modalTitle.textContent = "ü§ù Match Nul";
                modalIcon.innerHTML = "‚öñÔ∏è";
                modalMessage.innerHTML = "La grille est pleine !";
                winnerDetails.innerHTML = `
                    <div class="draw-players">
                        <div class="draw-player">
                            <div class="winner-avatar" style="background-color: {{.Player1.Color}}"></div>
                            <span>{{.Player1.Name}}</span>
                        </div>
                        <div class="draw-vs">VS</div>
                        <div class="draw-player">
                            <div class="winner-avatar" style="background-color: {{.Player2.Color}}"></div>
                            <span>{{.Player2.Name}}</span>
                        </div>
                    </div>
                `;
            }

            modal.classList.add("active");
            document.body.style.overflow = "hidden";
        }

        function hideGameResult() {
            const modal = document.getElementById("resultModal");
            modal.classList.remove("active");
            document.body.style.overflow = "auto";
        }

        // üéØ FONCTIONS UTILITAIRES
        function isGameFinished() {
            return document.getElementById('winner-data') !== null;
        }

        function resetGame() {
            fetch('/reset', { method: 'POST' })
                .then(() => window.location.reload())
                .catch(() => window.location.reload());
        }

        function goToHome() {
            fetch("/clean", { method: "POST" })
                .then(() => window.location.href = "/")
                .catch(() => window.location.href = "/");
        }

        function showError(message) {
            // Cr√©er une notification toast moderne
            const toast = document.createElement('div');
            toast.className = 'error-toast';
            toast.innerHTML = `
                <div class="toast-content">
                    <span class="toast-icon">‚ö†Ô∏è</span>
                    <span class="toast-message">${message}</span>
                </div>
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // üéØ INITIALISATION
        document.addEventListener("DOMContentLoaded", function () {
            initTheme();
            startMoveTimer();
            initKeyboardControls();
            updatePlayerStats();

            // Afficher le modal si il y a un gagnant
            const winnerData = document.getElementById("winner-data");
            if (winnerData) {
                const winner = winnerData.textContent.trim();
                setTimeout(() => showGameResult(winner), 1000);
            }

            // √âv√©nements des modals
            document.querySelectorAll('.modal-overlay').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        if (modal.id === 'rulesModal') hideRules();
                        if (modal.id === 'resultModal') hideGameResult();
                    }
                });
            });

            document.addEventListener("keydown", function (e) {
                if (e.key === "Escape") {
                    hideRules();
                    hideGameResult();
                }
            });

            // √âv√©nement du bouton theme
            const themeBtn = document.querySelector(".theme-btn");
            if (themeBtn) {
                themeBtn.addEventListener("click", toggleTheme);
            }

            // Initialiser les tooltips
            initTooltips();
        });

        function initTooltips() {
            const tooltips = document.querySelectorAll('.tooltip');
            tooltips.forEach(tooltip => {
                tooltip.addEventListener('mouseenter', function() {
                    // Les tooltips sont g√©r√©s par CSS
                });
            });
        }
    </script>
</body>
</html>